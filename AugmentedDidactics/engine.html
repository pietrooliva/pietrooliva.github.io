<!DOCTYPE html>
<html>
<head>
    <title>AUGMENTED DIDACTICS LAB - Lembo-Oliva</title>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <link rel="stylesheet" href="style.css" />

    <script src="libs/aframe-master.min.js"></script>
    <script src="libs/aframe-ar.js"></script>
    <script src="libs/AR.js"></script>
    <script src="libs/gesture-detector.js"></script>
    <script src="libs/gesture-handler.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@6.1.1/dist/aframe-extras.min.js"></script>
</head>
<body>
<a-scene gesture-detector    
         embedded arjs='sourceType: webcam; detectionMode: mono_and_matrix; matrixCodeType: 3x3;'
         renderer='precision: medium;'
         id="scene">

     <a-assets>
        <!-- Load the GLTF model -->
        <a-asset-item id="model" src="models/motorcycle_4_stroke_engine/scene.gltf"></a-asset-item>
        <a-asset-item id="model2" src="models/v8_engine/scene.gltf"></a-asset-item>
    </a-assets>

    <!-- Ambient Light to illuminate the whole scene -->
    <a-light type="ambient" color="#ffffff" intensity="0.5"></a-light>

    <!-- Directional Light to simulate sunlight, illuminating the whole scene -->
    <a-light type="directional" color="#ffffff" intensity="0.5" position="0 10 0"></a-light>

    <!-- Point Light near model2 to simulate a light bulb -->
    <a-light type="point" color="#ffffff" intensity="1.5" distance="10" position="2 4 4"></a-light>

    <!-- Spot Light focused on model2 to simulate a flashlight -->
    <a-light type="spot" color="#ffffff" intensity="1.5" distance="15" position="-2 4 4" angle="30" target="#model2"></a-light>

    <!-- Marker for triggering the display of the model -->
    <a-marker
        raycaster="objects: .clickable"
        emitevents="true"
        cursor="fuse: false; rayOrigin: mouse;"
        type="barcode" value="8">
        
        <!-- Entity representing the augmented content -->
        <a-entity
            gltf-model="#model"
            rotation="-90 0 0"
            scale="0.1 0.1 0.1"
            position="0.0 0.0 0.7"
            class="clickable"
            gesture-handler="minScale: 0.1; maxScale: 3; translateEnabled: true; rotateEnabled: true"
            translate-rotate-handler>
        </a-entity>
    </a-marker>

    <!-- Marker for triggering the display of the second model -->
    <a-marker
        raycaster="objects: .clickable"
        emitevents="true"
        cursor="fuse: false; rayOrigin: mouse;"
        type="barcode" value="7">
        
        <!-- Entity representing the second augmented content with animations -->
        <a-entity
            id="model2" <!-- Added ID for the target -->
            gltf-model="#model2"
            animation-mixer="clip: *;"
            rotation="0 0 0"
            scale="3.0 3.0 3.0"
            position="0.0 0.0 1.0"
            class="clickable"
            gesture-handler="minScale: 0.5; maxScale: 30; translateEnabled: true; rotateEnabled: true"
            translate-rotate-handler>
        </a-entity>
    </a-marker>
    
    <!-- Camera entity for the scene -->
    <a-entity camera></a-entity>

</a-scene>
</body>
</html>
